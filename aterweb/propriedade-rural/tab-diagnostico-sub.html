
<div class="panel panel-default" >
  <div class="panel-heading container-fluid">
    <frz-navegador ng-model="DiagnosticoNvg" 
      exibe-nome-botao = "false"
      on-abrir = "abrir()"
      on-agir = "agir()"
      on-ajudar = "ajudar()"
      on-alterar-tamanho-pagina = "alterarTamanhoPagina()"
      on-cancelar = "cancelar()"
      on-cancelar-editar = "cancelarEditar()"
      on-cancelar-excluir = "cancelarExcluir()"
      on-cancelar-filtrar = "cancelarFiltrar()"
      on-cancelar-incluir = "cancelarIncluir()"
      on-confirmar = "confirmar()"
      on-confirmar-editar = "confirmarEditar()"
      on-confirmar-excluir = "confirmarExcluir()"
      on-confirmar-filtrar = "confirmarFiltrar()"
      on-confirmar-incluir = "confirmarIncluir()"
      on-editar = "editar()"
      on-excluir = "excluir()"
      on-filtrar = "filtrar()"
      on-folhear-anterior = "folhearAnterior()"
      on-folhear-primeiro = "folhearPrimeiro()"
      on-folhear-proximo = "folhearProximo()"
      on-folhear-ultimo = "folhearUltimo()"
      on-incluir = "incluir()"
      on-informacao = "informacao()"
      on-limpar = "limpar()"
      on-paginar-anterior = "paginarAnterior()"
      on-paginar-primeiro = "paginarPrimeiro()"
      on-paginar-proximo = "paginarProximo()"
      on-paginar-ultimo = "paginarUltimo()"
      on-restaurar = "restaurar()"
      on-visualizar = "visualizar()"
      on-voltar = "voltar()"
      on-tem-mais-registros = "temMaisRegistros()">
    </frz-navegador>
  </div>

  <div class="painel-body"  ng-if="!DiagnosticoNvg.dados.length">
    <div class="alert alert-warning" role="alert">
      <span class="glyphicon glyphicon-warning-sign" aria-hidden="true"></span>
      Nenhum registro localizado!
    </div>
  </div>
  <div class="table-responsible" ng-if="DiagnosticoNvg.dados.length">
   
    <table class="table table-hover table-striped">
      <thead>
        <tr>
          <th><frz-seletor ng-show="false" ng-model="DiagnosticoNvg"></frz-seletor></th>        
          <th class="text-center col-md-2">Data da Coleta</th>
          <th class="text-center col-md-3">Nome da Coleta</th>
          <th class="text-center col-md-2">Situação</th>
          <th class="text-center col-md-1">Versão</th>
          <th class="text-center col-md-4">Tc. Responsável</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="item in DiagnosticoNvg.dados | orderBy: 'nome' | pagina: DiagnosticoNvg.paginaAtual : DiagnosticoNvg.tamanhoPagina | limitTo: DiagnosticoNvg.tamanhoPagina" ng-click="seleciona(DiagnosticoNvg, item); DiagnosticoNvg.folhaAtual = $index + ((DiagnosticoNvg.paginaAtual-1) * DiagnosticoNvg.tamanhoPagina)" ng-form name="documentoFrm">
          <td width="30px">
            <input type="radio" ng-show="DiagnosticoNvg.selecao.tipo === 'U'" ng-model="DiagnosticoNvg.selecao.item" ng-value="item"/>
            <input type="checkbox" ng-show="DiagnosticoNvg.selecao.tipo === 'M'" checklist-model="DiagnosticoNvg.selecao.items" checklist-value="item" ng-click="mataClick(DiagnosticoNvg, $event);"/>
          </td>
          <td class="text-left">{{item.data}}</td>
          <td class="text-left">{{item.nome}}</td>
          <td class="text-center">{{item.situacao.descricao}}</td>
          <td class="text-center">{{item.versao.descricao}}</td>
          <td class="text-left">{{item.responsavel.descricao}}</td>
        </tr>
      </tbody>
      <tfoot>
      </tfoot>
    </table>
  </div>
  <div class="panel-footer">
  </div>
</div>

<fieldset ng-disabled="DiagnosticoNvg.selecao.item.situacao.codigo!='1'"  ng-show="DiagnosticoNvg.selecao.item" >

<div class="row" >
    <div class="col-md-4" >
        <label class="control-label" for="formaUtiliazacao">Forma de Utilização do Espaço Rural</label><br>
        <select id="formaUtiliazacao" name="formaUtiliazacao" class="form-control" ng-model="DiagnosticoNvg.selecao.item.formaUtilizacao.codigo">
            <option value="1">Lazer</option>
            <option value="2">Moradia</option>
            <option value="3">Convencional (Prat.Preserv.)</option>
            <option value="4">Preservação Ambiental</option>
            <option value="5">Prestação de Serviço</option>
            <option value="6">Produção</option>
            <option value="7">Turismo Rural</option>
            <option value="9">Outras</option>
        </select>
    </div>
    <div class="col-md-4" >
        <label class="control-label" for="fontePrincipal">Fonte de Água Principal</label><br>
        <select id="fontePrincipal" name="fontePrincipal" class="form-control" ng-model="DiagnosticoNvg.selecao.item.fontePrincipal.codigo">
            <option value="1">Canal</option>
            <option value="2">Córrego/Rio</option>
            <option value="3">Lago/Lagoa</option>
            <option value="4">Nascente</option>
            <option value="5">Poço razo (até 30m)</option>
            <option value="6">Poço Tubular</option>
            <option value="9">Outras</option>
        </select>
    </div>
    <div class="col-md-4" >
        <label class="control-label" for="fonteVazao">Vazão (l/s)</label><BR>
        <input id="fonteVazao" name="fonteVazao" type="text" class="form-control input-md text-right" ng-model="DiagnosticoNvg.selecao.item.fonteVazao" ui-number-mask="globalFracaoSem" >
    </div>
</div>
<div class="row">
    <div class="col-md-4" >
        <label class="control-label" for="fonteDomestico">Fonte de Água Doméstica</label><br>
        <select id="fonteDomestico" name="fonteDomestico" class="form-control"  ng-model="DiagnosticoNvg.selecao.item.fonteDomestico.codigo" >
            <option value="1">Canal</option>
            <option value="2">Córrego/Rio</option>
            <option value="3">Lago/Lagoa</option>
            <option value="4">Nascente</option>
            <option value="5">Poço razo (até 30m)</option>
            <option value="6">Poço Tubular</option>
            <option value="9">Outras</option>
        </select>
    </div>

    <div class="col-md-4" >
        <label class="control-label" for="maoObraContratada">Mão de Obra Contratada</label><BR>
        <input id="maoObraContratada" name="maoObraContratada" type="text" class="form-control input-md text-right" ng-model="DiagnosticoNvg.selecao.item.maoObraContratada" ui-number-mask="globalFracaoSem" >
    </div>
    <div class="col-md-4" >
        <label class="control-label" for="maoObraTemporaria">Mão de Obra Temporária</label><BR>
        <input id="maoObraTemporaria" name="maoObraTemporaria" type="text" class="form-control input-md text-right" ng-model="DiagnosticoNvg.selecao.item.maoObraTemporaria" ui-number-mask="globalFracaoSem" >
    </div>

</div>
<div class="row">
    <div class="col-md-4" >
        <label class="control-label" for="moraPropriedade">Moradores da Propriedade</label><BR>
        <input id="moraPropriedade" name="moraPropriedade" type="text" class="form-control input-md text-right" ng-model="DiagnosticoNvg.selecao.item.moraPropriedade" ui-number-mask="globalFracaoSem" >
    </div>
    <div class="col-md-4" >
        <label class="control-label" for="moraFamilia">Familiares Moradores da Proriedade</label><BR>
        <input id="moraFamilia" name="moraFamilia" type="text" class="form-control input-md text-right" ng-model="DiagnosticoNvg.selecao.item.moraFamilia" ui-number-mask="globalFracaoSem" >
    </div>
    <div class="col-md-4" >
        <label class="control-label" for="maoObraFamiliar">Mão de Obra Familiar</label><BR>
        <input id="maoObraFamiliar" name="maoObraFamiliar" type="text" class="form-control input-md text-right" ng-model="DiagnosticoNvg.selecao.item.maoObraFamiliar" ui-number-mask="globalFracaoSem" >
    </div>
</div>

<div class="row"> 
    <div class="panel-body">
        <table class="table table-hover table-striped table-vcenter">
            <thead>
                <tr>
                    <th>Uso do Solo</th>
                    <th>Área (ha)</th>
                    <th>Valor Unitário (R$)</th>
                    <th>Valor Total (R$)</th>
                    <th>Mapa</th>
                    <th>Complemento</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="item in DiagnosticoNvg.selecao.item.solo" >
                    <td style="vertical-align:middle">                    
                        <label>{{item.nome}}</label>
                    </td>
                    <td> 
                       <input id="area{{$index}}" name="area{{$index}}" type="text" class="form-control input-md text-right" ng-model="item.area" ui-number-mask="globalFracaoHectares"  ng-disabled="item.detalhe">
                    </td>
                    <td> 
                       <input id="unitario{{$index}}" name="unitario{{$index}}" type="text" class="form-control input-md text-right" ng-model="item.unitario" ui-money-mask="2" ng-disabled="item.detalhe">
                    </td>
                    <td> 
                       <input id="total{{$index}}" name="total{{$index}}" type="text" class="form-control input-md text-right" value="{{item.area*item.unitario | currency}}" ng-disabled="true">
                    </td>
                    <td> 
                       <button type="button" class="btn btn-default" aria-label="Center Align" id="map{{$index}}" name="map{{$index}}" ng-click="mapaModalAbrir(item.nome,item.mapa)">
                          <span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span>
                        </button>
                    </td>
                    <td > 
                       <button type="button" class="btn btn-default" aria-label="Center Align" ng-hide="!item.detalhe" ng-click="abreModal(item.detalhe)" >
                          <span class="glyphicon glyphicon-pencil" aria-hidden="true" ></span>
                        </button>
                    </td>       
                </tr>
            </tbody>
        </table>
    </div>
</div>


<div class="row">
    <div class="form-group" title="Benfeitorias" style="padding: 30px;">
        <input type="hidden" name="benfeitoria" id="benfeitoria" ng-model="DiagnosticoNvg.selecao.item.benfeitoria.length">
        <ng-include src="'propriedade-rural/tab-diagnostico-benfeitoria-sub.html'" ng-controller="DiagnosticoBenfeitoriaSubCtrl"></ng-include>
    </div>
</div>

<div class="row">
    <div class="col-md-12" >
        <label class="control-label" for="observacao">Observações</label><br>
        <textarea class="form-control" id="observacao" name="observacao" ng-model="conteudo.observacao">
        </textarea>
    </div>
</div>


</fieldset>