<ng-form name="produtoresFrm">
    <div class="panel panel-default">
        <div class="panel-heading container-fluid">
            <frz-navegador
                ng-model="produtoresNvg" exibe-texto-botao="false"
                dados="navegador.selecao.item[PRODUCAO_PRODUTOR_LIST]"
                acoes-especiais="acoesEspeciais"
                on-abrir = "abrir()"
                on-agir = "agir()"
                on-editar = "editar()"
                on-especial = "especial()"
                on-excluir = "excluir()"
                on-filtrar = "filtrar()"
                on-incluir = "incluir()"
                on-listar = "listar()"
                on-navegar-primeiro = "navegarPrimeiro()"
                on-navegar-anterior = "navegarAnterior()"
                on-navegar-proximo = "navegarPosterior()"
                on-navegar-ultimo = "navegarUltimo()"
                on-proxima-pagina="proximaPagina()"
                on-ultima-pagina="ultimaPagina()"
                ></frz-navegador>
        </div>
        <div class="painel-body"  ng-hide="navegador.selecao.item[PRODUCAO_PRODUTOR_LIST].length">
            <div class="alert alert-warning" style="margin: 0px;" role="alert">
                <span class="glyphicon glyphicon-warning-sign" aria-hidden="true"></span>
                Nenhum registro localizado!
            </div>
        </div>
        <div class="table-responsive" ng-show="navegador.selecao.item[PRODUCAO_PRODUTOR_LIST].length > 0">

            <table class="table table-hover table-striped">
                <thead>
                    <tr>
                        <th>
                            <frz-seletor ng-model="produtoresNvg"></frz-seletor>
                        </th>
                        <th width="30">
                            #
                        </th>
                        <th>Produtor</th>
                        <th>Propriedade</th>
                        <th>Comunidade</th>
                        <th>Ação</th>
                    </tr> 
                </thead>
                <tbody>
                    <tr ng-repeat-start="item in navegador.selecao.item[PRODUCAO_PRODUTOR_LIST] | orderBy: [PRODUCAO_PUBLICO_ALVO_NOME] | orderBy: [PRODUCAO_PROPRIEDADE_RURAL_NOME] | orderBy: [PRODUCAO_COMUNIDADE_NOME] | pagina: produtoresNvg.paginaAtual : produtoresNvg.tamanhoPagina | limitTo: produtoresNvg.tamanhoPagina" ng-click="produtoresNvg.folhaAtual = $index + ((produtoresNvg.paginaAtual-1) * produtoresNvg.tamanhoPagina)"
                         title="Cadastrado por: {{item[PRODUCAO_INCLUSAO_NOME]}} em {{item[PRODUCAO_INCLUSAO_DATA] | date: 'dd/MM/yyyy'}}, alterado por: {{item[PRODUCAO_ALTERACAO_NOME]}} em {{item[PRODUCAO_ALTERACAO_DATA] | date: 'dd/MM/yyyy'}}">
                        <td width="30px" rowspan="2">
                            <input type="radio" ng-show="produtoresNvg.selecao.tipo === 'U'" ng-model="produtoresNvg.selecao.item" ng-value="item"/>
                            <input type="checkbox" ng-show="produtoresNvg.selecao.tipo === 'M'" checklist-model="produtoresNvg.selecao.items" checklist-value="item" ng-click="crudMataClick(scp, $event);"/>
                        </td>
                        <td rowspan="2">
                            {{$index + 1 + ((produtoresNvg.paginaAtual-1) * produtoresNvg.tamanhoPagina)}}
                        </td>
                        <td>
                            <a ng-click="modalVerPessoa(item[PRODUCAO_PUBLICO_ALVO_ID])">{{item[PRODUCAO_PUBLICO_ALVO_NOME]}}</a>
                        </td>
                        <td><a ng-click="modalVerPropriedadeRural(item[PRODUCAO_PROPRIEDADE_RURAL_ID])">{{item[PRODUCAO_PROPRIEDADE_RURAL_NOME]}}</a></td>
                        <td>{{item[PRODUCAO_COMUNIDADE_NOME]}}</td>
                        <td><button class="btn btn-primary btn-sm">Confirmar</button></td>
                    </tr>
                    <tr ng-repeat-end  title="Cadastrado por: {{item[PRODUCAO_INCLUSAO_NOME]}} em {{item[PRODUCAO_INCLUSAO_DATA] | date: 'dd/MM/yyyy'}}, alterado por: {{item[PRODUCAO_ALTERACAO_NOME]}} em {{item[PRODUCAO_ALTERACAO_DATA] | date: 'dd/MM/yyyy'}}">
                        <td colspan="4">
                            <table class="table table-hover table-striped table-condensed" style="font-size: 12px;">
                                <thead>
                                    <tr>
                                        <th colspan="{{item[PRODUCAO_FORMA_LIST][0][FORMA_COMPOSICAO_LIST].length}}"><span ng-if="cadastro.apoio.escondeDetalhe">Forma de Producao</span></th>
                                        <th>A</th>
                                        <th>B</th>
                                        <th>C</th>
                                        <th>Volume</th>
                                        <th rowspan="2">Valor Unitário</th>
                                        <th rowspan="2">Valor Total</th>
                                        <th rowspan="2">Data de Confirmação</th>
                                    </tr> 
                                    <tr>
                                        <th ng-repeat="composicao in item[PRODUCAO_FORMA_LIST][0][FORMA_COMPOSICAO_LIST]">
                                            <span ng-if="cadastro.apoio.escondeDetalhe">{{composicao[COMPOSICAO_FORMA_PRODUCAO_VALOR_ITEM_NOME]}}</span>
                                        </th>
                                        <th><small ng-if="item[PRODUCAO_NOME_ITEM_A]">({{item[PRODUCAO_NOME_ITEM_A]}})</small></th>
                                        <th><small ng-if="item[PRODUCAO_NOME_ITEM_B]">({{item[PRODUCAO_NOME_ITEM_B]}})</small></th>
                                        <th><small ng-if="item[PRODUCAO_NOME_ITEM_C]">({{item[PRODUCAO_NOME_ITEM_C]}})</small></th>
                                        <th><small ng-if="item[PRODUCAO_FORMULA]">({{item[PRODUCAO_FORMULA]}})</small></th>
                                    </tr> 
                                </thead>
                                <tbody ng-if="cadastro.apoio.escondeDetalhe">
                                    <tr ng-repeat="forma in item[PRODUCAO_FORMA_LIST] | limitTo: item[PRODUCAO_FORMA_LIST].length - 2" ng-class="{danger: (!forma[FORMA_DATA_CONFIRMACAO])}" title="Cadastrado por: {{forma[FORMA_INCLUSAO_NOME]}} em {{forma[FORMA_INCLUSAO_DATA] | date: 'dd/MM/yyyy'}}, alterado por: {{forma[FORMA_ALTERACAO_NOME]}} em {{forma[FORMA_ALTERACAO_DATA] | date: 'dd/MM/yyyy'}}">
                                        <td ng-repeat="composicao in forma[FORMA_COMPOSICAO_LIST]">
                                            {{composicao[COMPOSICAO_FORMA_PRODUCAO_VALOR_NOME]}}
                                        </td>
                                        <td class="text-right">{{forma[FORMA_VALOR_ITEM_A]}}</td>
                                        <td class="text-right">{{forma[FORMA_VALOR_ITEM_B]}}</td>
                                        <td class="text-right">{{forma[FORMA_VALOR_ITEM_C]}}</td>
                                        <td class="text-right">{{forma[FORMA_VOLUME]}}</td>
                                        <td class="text-right">{{forma[FORMA_VLR_UNIT] | currency}}</td>
                                        <td class="text-right">{{forma[FORMA_VLR_TOTAL] | currency}}</td>
                                        <td>{{forma[FORMA_DATA_CONFIRMACAO] | date: 'dd/MM/yyyy'}}</td>
                                    </tr>
                                </tbody>
                                <tfoot>
                                    <tr ng-repeat="forma in item[PRODUCAO_FORMA_LIST] | limitTo: -2">
                                        <td class="text-right" colspan="{{item[PRODUCAO_FORMA_LIST][0][FORMA_COMPOSICAO_LIST].length}}">Total {{forma[FORMA_NOME_CALCULO]}}</td>
                                        <td class="text-right">{{forma[FORMA_VALOR_ITEM_A]}}</td>
                                        <td class="text-right">{{forma[FORMA_VALOR_ITEM_B]}}</td>
                                        <td class="text-right">{{forma[FORMA_VALOR_ITEM_C]}}</td>
                                        <td class="text-right">{{forma[FORMA_VOLUME]}}</td>
                                        <td class="text-right">{{forma[FORMA_VLR_UNIT] | currency}}</td>
                                        <td class="text-right">{{forma[FORMA_VLR_TOTAL] | currency}}</td>
                                        <td>--</td>
                                    </tr>
                                </tfoot>
                            </table>
                        </td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <th></th>
                    </tr> 
                </tfoot>
            </table>








<!--

            <table class="sr-only table table-hover table-striped" style="padding:0; margin:0;">
                <thead>
                    <tr>
                        <th rowspan="2">
                            <frz-seletor ng-model="produtoresNvg"></frz-seletor>
                        </th>
                        <th rowspan="2" width="30">
                            #
                        </th>
                        <th rowspan="2">Produtor</th>
                        <th rowspan="2">Propriedade</th>
                        <th colspan="2">Volume</th>
                        <th rowspan="2">Unidade de Medida</th>
                        <th rowspan="2">Ação</th>
                    </tr>
                    <tr>
                        <th>Esperado</th>
                        <th>Confirmado</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat-start="produtor in navegador.selecao.item[PRODUCAO_PRODUTOR_LIST] | orderBy: 'nome' | pagina: produtoresNvg.paginaAtual : produtoresNvg.tamanhoPagina | limitTo: produtoresNvg.tamanhoPagina" ng-click="produtoresNvg.folhaAtual = $index + ((produtoresNvg.paginaAtual-1) * produtoresNvg.tamanhoPagina)">
                        <td width="30px">
                            <input type="radio" ng-show="produtoresNvg.selecao.tipo === 'U'" ng-model="produtoresNvg.selecao.item" ng-value="produtor"/>
                            <input type="checkbox" ng-show="produtoresNvg.selecao.tipo === 'M'" checklist-model="produtoresNvg.selecao.items" checklist-value="produtor" ng-click="crudMataClick(scp, $event);"/>
                        </td>
                        <td>
                            {{$index + 1 + ((produtoresNvg.paginaAtual-1) * produtoresNvg.tamanhoPagina)}}
                        </td>
                        <td>
                            <a ng-click="modalVerPessoa(22)">{{produtor[1]}}</a>
                        </td>
                        <td><a ng-click="modalVerPropriedadeRural(2)">{{produtor[0]}}</a></td>
                        <td>{{soma(produtor[2], 1) | number: 5}}</td>
                        <td>00000000000000</td>
                        <td>{{navegador.selecao.item[5]}}</td>
                        <th><button class="btn btn-primary btn-sm">Confirmar</button></th>
                    </tr>
                    <tr ng-repeat-end ng-click="produtoresNvg.folhaAtual = $index + ((produtoresNvg.paginaAtual-1) * produtoresNvg.tamanhoPagina)" 
                        ng-if="!cadastro.apoio.escondeDetalhe && produtor[2].length"
                        style="font-size: 90%; padding:0; margin:0;">
                        <td style="padding:0; margin:0;"></td>
                        <td colspan="10" style="padding:0; margin:0;">
                            <div class="table-responsive">
                                <table class="table table-hover table-striped table-bordered table-condensed table-sm" style="padding:0; margin:0;">
                                    <thead>
                                        <tr>
                                            <th colspan="{{produtor[2][0][0].length}}">Forma de Produção</th>
                                            <th ng-if="navegador.selecao.item[9]">A</th>
                                            <th ng-if="navegador.selecao.item[10]">B</th>
                                            <th ng-if="navegador.selecao.item[11]">C</th>
                                            <th>Volume</th>
                                            <th rowspan="2">Unidade de Medida</th>
                                            <th rowspan="2">Confirmado em</th>
                                        </tr>
                                        <tr>
                                            <th ng-repeat="forma in produtor[2][0][0] | orderBy: '2'">
                                                {{forma[0]}}
                                            </th>
                                            <th ng-if="navegador.selecao.item[9]">{{navegador.selecao.item[9]}}</th>
                                            <th ng-if="navegador.selecao.item[10]">{{navegador.selecao.item[10]}}</th>
                                            <th ng-if="navegador.selecao.item[11]">{{navegador.selecao.item[11]}}</th>
                                            <th>({{navegador.selecao.item[8]}})</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="linha in produtor[2] | orderBy: '0.4' | orderBy: '0.3' | orderBy: '0.2' | orderBy: '0.1' | orderBy: '0.0'"
                                            ng-class="{danger: !linha[10]}">
                                            <td ng-repeat="forma in linha[0] | orderBy: '2'">
                                                {{forma[1]}}
                                            </td>
                                            <td class="text-right" ng-if="navegador.selecao.item[9]">
                                                {{linha[5] | number: 5}}
                                            </td>
                                            <td class="text-right" ng-if="navegador.selecao.item[10]">
                                                {{linha[6] | number: 5}}
                                            </td>
                                            <td class="text-right" ng-if="navegador.selecao.item[11]">
                                                {{linha[7] | number: 5}}
                                            </td>
                                            <td class="text-right">
                                                {{formula(navegador.selecao.item[8], linha[5], linha[6], linha[7], linha, 1) | number: 5}}
                                            </td>
                                            <td>
                                                {{navegador.selecao.item[5]}}
                                            </td>
                                            <td>
                                                {{linha[10] | date: 'dd/MM/yyyy'}}
                                            </td>
                                        </tr>
                                    </tbody>
                                    <tfoot>
                                        <tr>
                                            <th colspan="{{produtor[2][0][0].length}}" class="text-right">Total</th>
                                            <th class="text-right" ng-if="navegador.selecao.item[9]">{{resultado(navegador.selecao.item[9], produtor[2], 5) | number: 5}}</th>
                                            <th class="text-right" ng-if="navegador.selecao.item[10]">{{resultado(navegador.selecao.item[10], produtor[2], 6) | number: 5}}</th>
                                            <th class="text-right" ng-if="navegador.selecao.item[11]">{{resultado(navegador.selecao.item[11], produtor[2], 7) | number: 5}}</th>
                                            <th class="text-right">{{soma(produtor[2], 1) | number: 5}}</th>
                                            <th>{{navegador.selecao.item[5]}}</th>
                                            <th></th>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table> -->
        </div>
    </div>
</ng-form>