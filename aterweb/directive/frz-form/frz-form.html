<ng-form name="f_{{ngModel.codigo}}" class="form-horizontal">

    <script type="text/ng-template" id="frz-form-label.html">
        <label class="col-md-3 control-label" for="f_{{ngModel.codigo}}_p_{{$index}}">{{item.nome}}</label>
    </script>

    <script type="text/ng-template" id="frz-form-ajuda.html">
        <div class="label label-default" ng-show="item.ajuda">
            <span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>
            {{item.ajuda}}
        </div>
        <div class="label label-danger" ng-show="ngModel.submetido && f_{{ngModel.codigo}}.f_{{ngModel.codigo}}_p_{{$index}}.$error.required">
            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
            Campo Obrigatório
        </div>
        <div class="label label-danger" ng-show="ngModel.submetido && (f_{{ngModel.codigo}}.f_{{ngModel.codigo}}_p_{{$index}}.$error.date || f_{{ngModel.codigo}}.f_{{ngModel.codigo}}_p_{{$index}}.$error.number || f_{{ngModel.codigo}}.f_{{ngModel.codigo}}_p_{{$index}}.$error.cep)">
            <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
            Valor inválido!
        </div>
    </script>

    <script type="text/ng-template" id="campo_string">
        <input class="form-control input-md" id="f_{{ngModel.codigo}}_p_{{$index}}" name="f_{{ngModel.codigo}}_p_{{$index}}" type="text" placeholder="{{item.placeholder}}" ng-model="dados[item.codigo]" ng-required="{{item.requirido()}}" title="{{item.pop}}">
    </script>

    <script type="text/ng-template" id="campo_numero">
        <input class="form-control input-md" id="f_{{ngModel.codigo}}_p_{{$index}}" name="f_{{ngModel.codigo}}_p_{{$index}}" type="text" placeholder="{{item.placeholder}}" ng-model="dados[item.codigo]" ng-required="{{item.requirido()}}" title="{{item.pop}}" ui-number-mask="item.fracao">
    </script>

    <script type="text/ng-template" id="campo_data">
        <input class="form-control input-md" id="f_{{ngModel.codigo}}_p_{{$index}}" name="f_{{ngModel.codigo}}_p_{{$index}}" type="text" placeholder="{{item.placeholder}}" ng-model="dados[item.codigo]" ng-required="{{item.requirido()}}" title="{{item.pop}}" ui-date-mask>
    </script>

    <script type="text/ng-template" id="campo_cep">
        <input class="form-control input-md" id="f_{{ngModel.codigo}}_p_{{$index}}" name="f_{{ngModel.codigo}}_p_{{$index}}" type="text" placeholder="{{item.placeholder}}" ng-model="dados[item.codigo]" ng-required="{{item.requirido()}}" title="{{item.pop}}" ui-br-cep-mask>
    </script>

    <script type="text/ng-template" id="campo_memo">
        <textarea class="form-control" id="f_{{ngModel.codigo}}_p_{{$index}}" name="f_{{ngModel.codigo}}_p_{{$index}}" ng-model="dados[item.codigo]" ng-required="{{item.requirido()}}" title="{{item.pop}}"></textarea>
    </script>

    <script type="text/ng-template" id="campo_combo">
        <select class="form-control" id="f_{{ngModel.codigo}}_p_{{$index}}" name="f_{{ngModel.codigo}}_p_{{$index}}" ng-model="dados[item.codigo]" ng-required="{{item.requirido()}}" ng-options="opcao.id as opcao.nome for opcao in item.opcao" title="{{item.pop}}">
            <option value="">-- Selecione --</option>
        </select>
    </script>

    <script type="text/ng-template" id="campo_escolha_unica">
        <div class="col-md-12" ng-init="idx = $index">
            <div class="radio" ng-repeat="opcao in item.opcao">
                <label for="f_{{ngModel.codigo}}_p_{{idx}}_o_{{$index}}">
                    <input type="radio" name="perg_{{idx}}" id="f_{{ngModel.codigo}}_p_{{idx}}_o_{{$index}}" value="{{opcao.codigo}}" ng-model="dados[item.codigo]" ng-required="{{item.requirido()}}" title="{{item.pop}}">
                    {{opcao.descricao}}
                </label>
            </div>
        </div>
    </script>

    <script type="text/ng-template" id="campo_escolha_multipla">
        <div class="col-md-12" ng-init="idx = $index">
            <div class="checkbox" ng-repeat="opcao in item.opcao">
                <label for="f_{{ngModel.codigo}}_p_{{idx}}_o_{{$index}}">
                    <input type="checkbox" name="perg_{{idx}}" id="f_{{ngModel.codigo}}_p_{{idx}}_o_{{$index}}" checklist-model="dados[item.codigo]" checklist-value="opcao.codigo" ng-required="{{item.requirido()}}" title="{{item.pop}}">
                    {{opcao.descricao}}
                </label>
            </div>
        </div>
    </script>

    <script type="text/ng-template" id="campo_array">
        <frz-tabela ng-model="item" dados="dados[item.codigo]">
        </frz-tabela>
    </script>


    <fieldset ng-repeat="item in ngModel.opcao" ng-switch on="item.tipo">

        <legend ng-switch-when="nome">{{item.nome}}</legend>

        <div class="form-group" ng-switch-default>
            <ng-include src="'frz-form-label.html'"/>
            <div class="col-md-{{item.tamanho?item.tamanho:'7'}}">
                <ng-include src="'campo_' + item.tipo"/>
                <ng-include src="'frz-form-ajuda.html'"/>
            </div>
        </div>

    </fieldset>

</ng-form>